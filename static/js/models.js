// Generated by CoffeeScript 1.3.3
(function() {

  window.Group = Backbone.Model.extend({
    idAttribute: "_id",
    urlRoot: "group",
    initialize: function() {
      var _this = this;
      this.ioBind('update', this.set);
      return socket.on("group/" + this.id + ":message", function(message) {
        _this.get('messages').push(message);
        return _this.trigger("newmessage");
      });
    }
  });

  window.Groups = Backbone.Collection.extend({
    url: "groups",
    model: Group,
    initialize: function() {
      var _this = this;
      return this.ioBind('add', function(group) {
        return _this.add(group);
      });
    },
    comparator: function(group) {
      return group.get("name");
    }
  });

}).call(this);
